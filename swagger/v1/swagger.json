{
  "swagger": "2.0",
  "info": {
    "title": "API V1",
    "version": "v1"
  },
  "paths": {
    "/book_copies": {
      "get": {
        "summary": "list book copies",
        "tags": [
          "Book copies"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "successful",
            "schema": {
              "type": "object",
              "properties": {
                "isbn": {
                  "type": "string"
                },
                "title": {
                  "type": "string"
                },
                "subtitle": {
                  "type": "string"
                },
                "page_count": {
                  "type": "string"
                },
                "publisher": {
                  "type": "string"
                },
                "edition": {
                  "type": "string"
                },
                "published_date": {
                  "type": "string"
                },
                "language": {
                  "type": "string"
                },
                "small_thumbnail_url": {
                  "type": "string"
                },
                "thumbnail_url": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "info_url": {
                  "type": "string"
                },
                "average_rating": {
                  "type": "string"
                },
                "authors": {
                  "type": "array"
                }
              },
              "description": "List all book copies",
              "example": [
                {
                  "id": "1563cd76-e68f-4b38-8e6a-0a502692c5f0",
                  "user_description": "",
                  "is_new": "",
                  "price": "",
                  "title": "MALALA, A MENINA QUE QUERIA IR PARA A ESCOLA",
                  "subtitle": "",
                  "page_count": "96",
                  "publisher": "",
                  "edition": "",
                  "published_date": "2015-04-30",
                  "language": "pt",
                  "description": "No primeiro livro-reportagem destinado ao público infantil, a jornalista Adriana Carranca relata às crianças a história da adolescente paquistanesa Malala Yousafzai, baleada por membros do Talibã aos catorze anos por defender a educação feminina. Na obra, a repórter traz suas percepções sobre o vale do Swat, a história da região e a definição dos termos mais importantes para entender a vida desta menina tão corajosa.",
                  "info_url": "http://books.google.com.br/books?id=LqlHvgAACAAJ&dq=isbn+8574066702&hl=&source=gbs_api",
                  "average_rating": "",
                  "authors": [
                    "ADRIANA CARRANCA CORRÊA"
                  ],
                  "isbn": "8574066702",
                  "cover_image_url": "https://book-images-dev.s3.sa-east-1.amazonaws.com/rh2cgf9ir1zdti0x7m1461kv58cz?response-content-disposition=inline%3B%20filename%3D%2271fcsbZKaGL._AC_UL200_SR200%252C200_.jpg%22%3B%20filename%2A%3DUTF-8%27%2771fcsbZKaGL._AC_UL200_SR200%252C200_.jpg&response-content-type=image%2Fjpeg&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIA4QSR7Y5ZGYR5A65J%2F20210402%2Fsa-east-1%2Fs3%2Faws4_request&X-Amz-Date=20210402T192046Z&X-Amz-Expires=300&X-Amz-SignedHeaders=host&X-Amz-Signature=bc90ab95e1110571366f1be0882e2360b375043d8b712fe5ca195835873808a4"
                }
              ]
            }
          }
        }
      },
      "post": {
        "summary": "create book copy",
        "tags": [
          "Book copies"
        ],
        "produces": [
          "application/json"
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "cover_image",
            "in": "formData",
            "type": "file",
            "required": true
          },
          {
            "name": "isbn",
            "in": "formData",
            "type": "string",
            "required": true,
            "example": "8574066702"
          },
          {
            "name": "price",
            "in": "formData",
            "type": "number",
            "required": true,
            "example": "100.00"
          },
          {
            "name": "user_description",
            "in": "formData",
            "type": "string",
            "required": false,
            "example": "The book copy is in excellent state, it looks like new!"
          },
          {
            "name": "is_new",
            "in": "formData",
            "type": "boolean",
            "required": false,
            "default": false,
            "example": "false"
          }
        ],
        "responses": {
          "201": {
            "description": "successful",
            "schema": {
              "type": "object",
              "description": "Creates a book copy for sale. It consumes the Google Book API if the books still don't exist on the local database. The book cover image, uploaded by the user, is hosted on AWS S3.",
              "properties": {
                "isbn": {
                  "type": "string"
                },
                "price": {
                  "type": "float"
                },
                "is_new": {
                  "type": "boolean"
                },
                "cover_image": {
                  "type": "file"
                }
              },
              "required": [
                "isbn",
                "price"
              ],
              "example": {
                "id": "1563cd76-e68f-4b38-8e6a-0a502692c5f0",
                "user_description": "",
                "is_new": "",
                "price": "",
                "title": "MALALA, A MENINA QUE QUERIA IR PARA A ESCOLA",
                "subtitle": "",
                "page_count": "96",
                "publisher": "",
                "edition": "",
                "published_date": "2015-04-30",
                "language": "pt",
                "description": "No primeiro livro-reportagem destinado ao público infantil, a jornalista Adriana Carranca relata às crianças a história da adolescente paquistanesa Malala Yousafzai, baleada por membros do Talibã aos catorze anos por defender a educação feminina. Na obra, a repórter traz suas percepções sobre o vale do Swat, a história da região e a definição dos termos mais importantes para entender a vida desta menina tão corajosa.",
                "info_url": "http://books.google.com.br/books?id=LqlHvgAACAAJ&dq=isbn+8574066702&hl=&source=gbs_api",
                "average_rating": "",
                "authors": [
                  "ADRIANA CARRANCA CORRÊA"
                ],
                "isbn": "8574066702",
                "cover_image_url": "https://book-images-dev.s3.sa-east-1.amazonaws.com/rh2cgf9ir1zdti0x7m1461kv58cz?response-content-disposition=inline%3B%20filename%3D%2271fcsbZKaGL._AC_UL200_SR200%252C200_.jpg%22%3B%20filename%2A%3DUTF-8%27%2771fcsbZKaGL._AC_UL200_SR200%252C200_.jpg&response-content-type=image%2Fjpeg&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIA4QSR7Y5ZGYR5A65J%2F20210402%2Fsa-east-1%2Fs3%2Faws4_request&X-Amz-Date=20210402T192046Z&X-Amz-Expires=300&X-Amz-SignedHeaders=host&X-Amz-Signature=bc90ab95e1110571366f1be0882e2360b375043d8b712fe5ca195835873808a4"
              }
            }
          }
        }
      }
    },
    "/books": {
      "get": {
        "summary": "list books",
        "tags": [
          "Books"
        ],
        "produces": [
          "application/json"
        ],
        "description": "List all books from the local database.",
        "responses": {
          "200": {
            "description": "successful",
            "schema": {
              "type": "object",
              "properties": {
                "isbn": {
                  "type": "string"
                },
                "title": {
                  "type": "string"
                },
                "subtitle": {
                  "type": "string"
                },
                "page_count": {
                  "type": "string"
                },
                "publisher": {
                  "type": "string"
                },
                "edition": {
                  "type": "string"
                },
                "published_date": {
                  "type": "string"
                },
                "language": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "info_url": {
                  "type": "string"
                },
                "average_rating": {
                  "type": "string"
                },
                "authors": {
                  "type": "array"
                }
              },
              "example": [
                {
                  "title": "MALALA, A MENINA QUE QUERIA IR PARA A ESCOLA",
                  "subtitle": "",
                  "page_count": "96",
                  "publisher": "",
                  "edition": "",
                  "published_date": "2015-04-30",
                  "language": "pt",
                  "description": "No primeiro livro-reportagem destinado ao público infantil, a jornalista Adriana Carranca relata às crianças a história da adolescente paquistanesa Malala Yousafzai, baleada por membros do Talibã aos catorze anos por defender a educação feminina. Na obra, a repórter traz suas percepções sobre o vale do Swat, a história da região e a definição dos termos mais importantes para entender a vida desta menina tão corajosa.",
                  "info_url": "http://books.google.com.br/books?id=LqlHvgAACAAJ&dq=isbn+8574066702&hl=&source=gbs_api",
                  "average_rating": "",
                  "authors": [
                    "ADRIANA CARRANCA CORRÊA"
                  ],
                  "isbn": "8574066702"
                }
              ]
            }
          }
        }
      },
      "post": {
        "summary": "create book",
        "tags": [
          "Books"
        ],
        "consumes": [
          "application/json"
        ],
        "description": "Creates a new book on the local database by searching the provided ISBN10 on Google Books API. It shows a custom error if the ISBN10 doesn't exist on Google Books API database or if it exists but doesn't have yhe minimal requested data.",
        "parameters": [
          {
            "name": "isbn",
            "in": "body",
            "type": "string",
            "required": true,
            "example": {
              "isbn": "8574066702"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "successful",
            "schema": {
              "type": "object",
              "properties": {
                "isbn": {
                  "type": "string"
                },
                "title": {
                  "type": "string"
                },
                "subtitle": {
                  "type": "string"
                },
                "page_count": {
                  "type": "string"
                },
                "publisher": {
                  "type": "string"
                },
                "edition": {
                  "type": "string"
                },
                "published_date": {
                  "type": "string"
                },
                "language": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "info_url": {
                  "type": "string"
                },
                "average_rating": {
                  "type": "string"
                },
                "authors": {
                  "type": "array"
                }
              },
              "required": [
                "isbn"
              ],
              "example": {
                "title": "MALALA, A MENINA QUE QUERIA IR PARA A ESCOLA",
                "subtitle": "",
                "page_count": "96",
                "publisher": "",
                "edition": "",
                "published_date": "2015-04-30",
                "language": "pt",
                "description": "No primeiro livro-reportagem destinado ao público infantil, a jornalista Adriana Carranca relata às crianças a história da adolescente paquistanesa Malala Yousafzai, baleada por membros do Talibã aos catorze anos por defender a educação feminina. Na obra, a repórter traz suas percepções sobre o vale do Swat, a história da região e a definição dos termos mais importantes para entender a vida desta menina tão corajosa.",
                "info_url": "http://books.google.com.br/books?id=LqlHvgAACAAJ&dq=isbn+8574066702&hl=&source=gbs_api",
                "average_rating": "",
                "authors": [
                  "ADRIANA CARRANCA CORRÊA"
                ],
                "isbn": "8574066702"
              }
            }
          }
        }
      }
    }
  },
  "servers": [
    {
      "url": "http://{defaultHost}",
      "variables": {
        "defaultHost": {
          "default": "127.0.0.1:3000"
        }
      }
    }
  ]
}
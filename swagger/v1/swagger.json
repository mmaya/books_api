{
  "swagger": "2.0",
  "info": {
    "title": "API V1",
    "version": "v1"
  },
  "paths": {
    "/book_copies": {
      "get": {
        "summary": "list book copies",
        "tags": [
          "Book copies"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "successful",
            "schema": {
              "type": "object",
              "properties": {
                "isbn": {
                  "type": "string"
                },
                "title": {
                  "type": "string"
                },
                "subtitle": {
                  "type": "string"
                },
                "page_count": {
                  "type": "string"
                },
                "publisher": {
                  "type": "string"
                },
                "edition": {
                  "type": "string"
                },
                "published_date": {
                  "type": "string"
                },
                "language": {
                  "type": "string"
                },
                "small_thumbnail_url": {
                  "type": "string"
                },
                "thumbnail_url": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "info_url": {
                  "type": "string"
                },
                "average_rating": {
                  "type": "string"
                },
                "authors": {
                  "type": "array"
                }
              },
              "required": [
                "isbn",
                "title",
                "description"
              ],
              "example": [
                {
                  "id": 1,
                  "title": "The Little Prince",
                  "subtitle": "",
                  "page_count": "128",
                  "publisher": "Samaira Book Publishers",
                  "edition": "",
                  "published_date": "2017-11-04",
                  "language": "en",
                  "description": "",
                  "info_url": "https://play.google.com/store/books/details?id=6948DwAAQBAJ&source=gbs_api",
                  "average_rating": "5",
                  "authors": [
                    "Antoine de Saint-Exupéry",
                    "SBP Editors"
                  ],
                  "isbn": "8193540190",
                  "created_at": "2021-04-01T19:55:55.291Z",
                  "updated_at": "2021-04-01T19:55:55.291Z"
                }
              ]
            }
          }
        }
      },
      "post": {
        "summary": "create book copy",
        "tags": [
          "Book copies"
        ],
        "produces": [
          "application/json"
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "cover_image",
            "in": "formData",
            "type": "file",
            "required": true
          },
          {
            "name": "isbn",
            "in": "formData",
            "type": "string",
            "required": true
          }
        ],
        "responses": {
          "201": {
            "description": "successful",
            "schema": {
              "type": "object",
              "properties": {
                "isbn": {
                  "type": "string"
                },
                "price": {
                  "type": "float"
                },
                "is_new": {
                  "type": "boolean"
                },
                "cover_image": {
                  "type": "file"
                }
              },
              "required": [
                "isbn",
                "title",
                "description"
              ],
              "example": {
                "isbn": "89885545",
                "title": "O Pequeno Príncipe",
                "subtitle": "",
                "page_count": "232",
                "publisher": "Editora Aurora",
                "edition": "10ª edição",
                "published_date": "2020-09-02",
                "language": "Português",
                "small_thumbnail_url": "",
                "thumbnail_url": "",
                "description": "\"O essencial é invisível aos olhos ...\" O Pequeno Príncipe é uma das obras literárias mais lidas no mundo e isto se deve à sua capacidade de relevar, a cada pessoa, significados diferentes, profundos, diante de uma história aparentemente simples. Nesta nova edição, você terá a chance de revisitar asteroides, planetas e baobás, encontrar uma certa raposa e admirar uma rosa muito especial. Escrito há mais de 70 anos, este livro é um dos favoritos de todos os apaixonados por literatura. E, até quem não tem hábito de leitura, se encanta pela doçura do pequeno príncipe. Ilustrado com as aquarelas do autor, a obra narra a amizade entre um piloto perdido no deserto e seu amigo inesperado, o pequeno príncipe. Seja esta a sua primeira leitura ou já perdeu as contas de quantas vezes leu a história: prepare-se para se emocionar.",
                "info_url": "http://books.google.com.br/books?id=Hx_PzQEACAAJ&dq=isbn+658604104X&hl=&source=gbs_api",
                "average_rating": "5.0",
                "authors": [
                  "Antoine De Saint - Exupéry"
                ]
              }
            }
          }
        }
      }
    },
    "/books": {
      "get": {
        "summary": "list books",
        "tags": [
          "Books"
        ],
        "produces": [
          "application/json"
        ],
        "description": "List all books from the local database.",
        "responses": {
          "200": {
            "description": "successful",
            "schema": {
              "type": "object",
              "properties": {
                "isbn": {
                  "type": "string"
                },
                "title": {
                  "type": "string"
                },
                "subtitle": {
                  "type": "string"
                },
                "page_count": {
                  "type": "string"
                },
                "publisher": {
                  "type": "string"
                },
                "edition": {
                  "type": "string"
                },
                "published_date": {
                  "type": "string"
                },
                "language": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "info_url": {
                  "type": "string"
                },
                "average_rating": {
                  "type": "string"
                },
                "authors": {
                  "type": "array"
                }
              },
              "example": [
                {
                  "title": "MALALA, A MENINA QUE QUERIA IR PARA A ESCOLA",
                  "subtitle": "",
                  "page_count": "96",
                  "publisher": "",
                  "edition": "",
                  "published_date": "2015-04-30",
                  "language": "pt",
                  "description": "No primeiro livro-reportagem destinado ao público infantil, a jornalista Adriana Carranca relata às crianças a história da adolescente paquistanesa Malala Yousafzai, baleada por membros do Talibã aos catorze anos por defender a educação feminina. Na obra, a repórter traz suas percepções sobre o vale do Swat, a história da região e a definição dos termos mais importantes para entender a vida desta menina tão corajosa.",
                  "info_url": "http://books.google.com.br/books?id=LqlHvgAACAAJ&dq=isbn+8574066702&hl=&source=gbs_api",
                  "average_rating": "",
                  "authors": [
                    "ADRIANA CARRANCA CORRÊA"
                  ],
                  "isbn": "8574066702"
                }
              ]
            }
          }
        }
      },
      "post": {
        "summary": "create book",
        "tags": [
          "Books"
        ],
        "consumes": [
          "application/json"
        ],
        "description": "Creates a new book on the local database by searching the provided ISBN10 on Google Books API. It shows a custom error if the ISBN10 doesn't exist on Google Books API database or if it exists but doesn't have yhe minimal requested data.",
        "parameters": [
          {
            "name": "isbn",
            "in": "body",
            "type": "string",
            "required": true,
            "example": {
              "isbn": "8574066702"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "successful",
            "schema": {
              "type": "object",
              "properties": {
                "isbn": {
                  "type": "string"
                },
                "title": {
                  "type": "string"
                },
                "subtitle": {
                  "type": "string"
                },
                "page_count": {
                  "type": "string"
                },
                "publisher": {
                  "type": "string"
                },
                "edition": {
                  "type": "string"
                },
                "published_date": {
                  "type": "string"
                },
                "language": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "info_url": {
                  "type": "string"
                },
                "average_rating": {
                  "type": "string"
                },
                "authors": {
                  "type": "array"
                }
              },
              "required": [
                "isbn"
              ],
              "example": {
                "title": "MALALA, A MENINA QUE QUERIA IR PARA A ESCOLA",
                "subtitle": "",
                "page_count": "96",
                "publisher": "",
                "edition": "",
                "published_date": "2015-04-30",
                "language": "pt",
                "description": "No primeiro livro-reportagem destinado ao público infantil, a jornalista Adriana Carranca relata às crianças a história da adolescente paquistanesa Malala Yousafzai, baleada por membros do Talibã aos catorze anos por defender a educação feminina. Na obra, a repórter traz suas percepções sobre o vale do Swat, a história da região e a definição dos termos mais importantes para entender a vida desta menina tão corajosa.",
                "info_url": "http://books.google.com.br/books?id=LqlHvgAACAAJ&dq=isbn+8574066702&hl=&source=gbs_api",
                "average_rating": "",
                "authors": [
                  "ADRIANA CARRANCA CORRÊA"
                ],
                "isbn": "8574066702"
              }
            }
          }
        }
      }
    }
  },
  "servers": [
    {
      "url": "http://{defaultHost}",
      "variables": {
        "defaultHost": {
          "default": "127.0.0.1:3000"
        }
      }
    }
  ]
}